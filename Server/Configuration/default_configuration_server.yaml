# Services configuration
## services:
##   service_name:
##     param1: value1
##     param2: value2
##     ...
##   ...
## services_configuration:
##   chatbot:
##     param1: value1
##     param2: value2
##     ...
##   ...

services: {}

# Server configuration
server_api:
  min_length: 64  # Min key length: 16
  max_length: 128  # Replace with `null` to make this the same as min_length
  default_groups: []
  admin_groups: []
server_whitelist:
  enabled: false
  ip_whitelist: []
  key_whitelist: []
server_blacklist:
  enabled: true
  ip_blacklist: []
  key_blacklist: []
server_automatic_blacklist:
  enabled: true
  text_filter_service:  # Requires the "text_classification" module
    enabled: false
    model_name: ""  # Keep in mind that the service here will be provided FREE OF CHARGE when using the automatic filter
    keyword: ""  # Keyword to filter - example: "NSFW" in `michellejieli/NSFW_text_classifier`
    threshold: 0  # Threshold to exceed to filter the prompt - from 0 to 1
    prompt_parameters: {}  # Prompt parameters for inference
    user_parameters: {}  # User parameters for inference
  image_filter_service:  # Requires the "image_classification" module
    enabled: false
    model_name: ""
    keyword: ""
    threshold: 0
    prompt_parameters: {}
    user_parameters: {}
  audio_filter_service:  # No classifier yet, doesn't work for now
    enabled: false
    model_name: ""
    keyword: ""
    threshold: 0
    prompt_parameters: {}
    user_parameters: {}
  video_filter_service:  # No classifier yet, current workaround is to pick random frames (or all frames) from the video and use the image filter
    enabled: false
    model_name: ""
    keyword: ""
    threshold: 0
    prompt_parameters: {}
    user_parameters: {}
server_encryption:
  allowed_hashes:
    hashes:
      - "sha512"
      - "sha384"
      - "sha256"
      - "sha224"
      - "none"
    warnings:
      none:
        - "You are not using a hash. The message is not encrypted; anyone can read it."
      sha224:
        - "You are using a weak hash. The message is encrypted; but it can be decrypted by anyone."
  force_response_hash: null  # "none", "sha224", "sha256", "sha384", "sha512"
  decryption_threads: 2  # -1 for all threads
  obfuscate: true  # Adds a random length string to the encryption to patch https://arxiv.org/pdf/2511.03675
server_client_version:
  min: 170000  # Minimum client version to accept, null = server version
  max: null  # Maximum client version to accept, null = server version
  accept_unknown: false  # Whether to accept clients with an unknown version or not
server_data:
  tos_file: "./TOS.md"
  temp_dir: "./Temp"
  keys_dir: "./API_Keys"
  banned_file: "./banned.json"
server_listen:
  - type: "websockets"
    host: "0.0.0.0"
    port: 8060